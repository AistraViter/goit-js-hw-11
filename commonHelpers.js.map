{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nvar lightbox = new SimpleLightbox('.gallery a',  {\n    captions: true, // Увімкнути підписи\n    captionSelector: 'img', // Селектор для елемента, з якого брати підпис\n    captionType: 'attr', // Тип отримання підпису: 'attr', 'data' або 'text'\n    captionsData: 'alt', // Атрибут або data-атрибут, який використовується для отримання підпису\n    captionPosition: 'bottom', // Позиція підпису: 'top' або 'bottom'\n    captionDelay: 250, // Затримка перед показом підпису\n  }); \n\n\n\nconst API_KEY = '44002741-2ff50451c0a1667e01f2d5f97';\nconst API_URL = 'https://pixabay.com/api/';\n\nconst searchForm = document.querySelector('.search-form');\nconst searchField = document.querySelector('#input-search');\n\nconst gallery = document.querySelector('ul.gallery');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = searchField.value.trim();\n  if (query !== '') {\n    const params = new URLSearchParams({\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n    });\n\n    const url = `${API_URL}?${params.toString()}`;\n\n    loader.style.display = 'block';\n\n    fetch(url)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then(data => {\n        if (data.totalHits >= 1) {\n          gallery.innerHTML = ''; // Очищення галереї перед додаванням нових елементів\n\n          const elements = data.hits.map(image => {\n            // Використовуємо data.hits для доступу до зображень\n            const li = document.createElement('li');\n            li.classList.add('gallery-item');\n            const link = document.createElement('a');\n            link.classList.add('gallery-link');\n            link.href = image.largeImageURL; // Використовуйте правильний URL для посилання\n            const img = document.createElement('img');\n            img.classList.add('gallery-image');\n            img.src = image.webformatURL;\n            img.dataset.source = image.largeImageURL;\n            img.alt = image.tags;\n\n            const caption = document.createElement('ul');\n            caption.classList.add('image-caption');\n            const captionItem1 = document.createElement('li');\n            captionItem1.classList.add('caption-item');\n            const captionItemLikes = document.createElement('p');\n            captionItemLikes.textContent=`Likes: \\n${image.likes}`\n\n            const captionItem2 = document.createElement('li');\n            captionItem2.classList.add('caption-item');\n            const captionItemViewses = document.createElement('p');\n            captionItemViewses.textContent=`Views: \\n${image.views}`\n            \n            const captionItem3 = document.createElement('li');\n            captionItem3.classList.add('caption-item');\n            const captionItemComments = document.createElement('p');\n            captionItemComments.textContent=`Comments: \\n${image.comments}`\n\n            const captionItem4 = document.createElement('li');\n            captionItem4.classList.add('caption-item');\n            const captionItemDownloads = document.createElement('p');\n            captionItemDownloads.textContent=`Downloads: \\n${image.downloads}`\n\n            link.append(img);\n            captionItem1.append(captionItemLikes);\n            captionItem2.append(captionItemViewses);\n            captionItem3.append(captionItemComments);\n            captionItem4.append(captionItemDownloads);\n            caption.append(captionItem1, captionItem2, captionItem3, captionItem4);\n            li.append(link);\n            li.append(caption);\n\n            return li;\n          });\n\n\n          gallery.append(...elements); //Розміщення в DOM\n          lightbox.refresh();\n\n        \n        } else {\n          iziToast.show({\n            class: 'promise-message',\n            iconUrl: '/goit-js-hw-11/cancel-circle.svg',\n            iconColor: 'whte',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            messageColor: 'white',\n            messageSize: '18',\n            backgroundColor: 'red',\n            position: 'topRight',\n            class: 'custom-toast',\n            icon: 'iziToast-icon',\n          });\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      })\n      .finally(() => {\n        loader.style.display = 'none';\n        searchForm.reset(); // Скидання всієї форми\n      });\n  }\n});\n"],"names":["lightbox","SimpleLightbox","API_KEY","API_URL","searchForm","searchField","gallery","event","query","params","url","response","data","elements","image","li","link","img","caption","captionItem1","captionItemLikes","captionItem2","captionItemViewses","captionItem3","captionItemComments","captionItem4","captionItemDownloads","iziToast","error"],"mappings":"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"}